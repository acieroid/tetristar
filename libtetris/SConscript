Import('env', 'LUA', 'GLIB', 'GTHREAD')

lib_env = env.Clone()

sources = ['libtetris.c', 'plugin.c', 'player.c', 'matrix.c',
           'game.c', 'lua_functions.c', 'util.c']
LIBS = [LUA, GLIB, GTHREAD]

for lib in LIBS:
    lib_env.ParseConfig('pkg-config ' + lib + ' --cflags --libs')

libtetris = lib_env.StaticLibrary(target = 'tetris', source = sources)
Return('libtetris')
